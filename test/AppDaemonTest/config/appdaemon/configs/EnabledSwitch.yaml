test_enabler1:
    module: enabler
    class: ScriptEnabler
    initial: false

test_enabler2:
    module: enabler
    class: ScriptEnabler
    initial: false

test_switch:
    class: AutoSwitch
    module: auto_switch
    target: input_boolean.test_switch

test_switch_interval:
    class: AutoSwitch
    module: auto_switch
    target: input_boolean.test_switch2

test_enabled_switch:
    class: EnabledSwitch
    module: enabled_switch
    dependencies:
        - test_enabler1
        - test_enabler2
        - test_switch
    global_dependencies:
        - auto_switch
        - enabler
    enablers:
        - test_enabler1
        - test_enabler2
    targets:
        - test_switch

test_enabled_switch_interval:
    class: EnabledSwitch
    module: enabled_switch
    dependencies:
        - test_enabler1
        - test_enabler2
        - test_switch_interval
    global_dependencies:
        - auto_switch
        - enabler
    poll_interval:
        seconds: 10
    enablers:
        - test_enabler1
        - test_enabler2
    targets:
        - test_switch_interval
